<div class="alertas-card">
  <h2 class="titulo">
    <span class="icon"></span>
    Mis Alertas
  </h2>

  @if (alertas.length > 0) {
    <table class="full-width-table">
      <thead>
        <tr>
          <th>Empresa</th>
          <th>Tipo</th>
          <th>Condici√≥n</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>

      <tbody>
        @for (alerta of alertas; track alerta.id) {
          <tr>
            <td class="centered">{{ alerta.empresa?.nombre }}</td>
            <td class="centered">{{ alerta.tipo | titlecase }}</td>
            <td class="centered">{{ alerta.condicion }} {{ alerta.valor }}</td>
            <td class="centered">
              <span [ngClass]="alerta.activa ? 'activa' : 'inactiva'">
                {{ alerta.activa ? '‚úÖ Activa' : '‚ùå Inactiva' }}
              </span>
            </td>
            <td class="centered">
              <button
                class="icon-btn warn"
                (click)="eliminarAlerta(alerta.id)"
                title="Eliminar alerta"
              >
                üóë
              </button>
            </td>
          </tr>
        }
      </tbody>
    </table>
  }
  @else {
    <p class="empty">
      No tienes alertas creadas.
    </p>
  }
</div>
